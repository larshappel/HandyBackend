# UI仕様 (全画面)

## 全体構成
- 画面はトップバー + ナビゲーションドロワー + コンテンツで構成する。
- トップバー右側にバージョン表示と明/暗切替スイッチを表示する。
- ドロワーから以下の画面に遷移できる。
  - メイン画面 (納品登録)
  - 未送信データ
  - 送信履歴
  - 設定

## 共通UI要素
- スナックバーは画面上部に表示する。
- エラー時はエラーメッセージ + ビープ音を鳴らす。
- 送信成功/失敗は送信履歴に反映する。
- バージョン表示は `v{VERSION_NAME}` 形式。
- ダーク/ライト切替は全画面に適用する。

## メイン画面 (納品登録)
### 入力項目
- 商品ID (必須)
- 数量 (必須)
- 個体識別ID (任意)
- 未送信データ件数を表示する。

### 入力方式
- スキャン/手入力の両対応。
- スキャンは順不同で受け付け、自動判定して該当フィールドに格納する。
- 手入力はフォーカスされている欄に入力する。
- フォーカス取得時は次入力で上書きされる。

### バーコード判定ルール
- 商品ID: 12桁の数値コード（先頭`9`）、または13桁で先頭`9`のみ先頭1文字を削除
- 数量: 先頭5桁が `00000` の数値コード (g 単位)
- 個体識別ID: 10桁の数値コード、または `251` で始まり10桁が続くもの（後続が長くても可）
- 判定できない場合はエラー表示

### 数量の扱い
- 手入力は小数点必須（先頭ドットは `0.x` として許容）。
- 小数点を除いた桁数は12桁以内。
- バーコード入力は g を kg に変換して表示する (例: 000001234 -> 1.234)。

### キー操作
- F1: 商品IDにフォーカス
- F2: 数量にフォーカス
- F3: 個体識別IDにフォーカス
- Enter/F4: 商品IDと数量が入っている場合は送信（フォーカス不問）

### 送信
- 送信ボタンは「商品ID + 数量」が埋まっていると有効。
- 送信ボタンの色は入力状態で変える。
  - 緑: 商品ID + 数量 + 個体識別番号が揃っている
  - オレンジ: 商品ID + 数量は揃っているが個体識別番号が空
  - グレー: 必須（商品ID/数量）が欠けている
- 送信後は入力欄をクリアし、商品IDにフォーカスを戻す。

## 設定画面
- サーバーIPアドレス/ポートを手入力で設定する。
- 端末IDを手入力で設定する。
- 保存ボタンを押すと「保存しました」を表示する。
- 設定画面表示中のみ、5秒ごとに疎通確認を行い接続状態を表示する。
- 画面上部に `サーバ設定(接続済/未接続/確認中)` を表示し、括弧内だけ色を変える。

## 未送信データ画面
- バッファ状態を表示する (未送信あり/チェック中/再送信中/空など)。
- 未送信データの一覧を表示する。
- バッファを全件削除するボタンを表示する。

## 送信履歴画面
- 送信結果の履歴を一覧表示する。
- 成功/失敗で背景色を変える。
  - 成功: 緑系
  - 失敗: 赤系

## ナビゲーションドロワー
- メニュー見出しを表示する。
- 各画面への遷移項目を表示する。
- 選択中の画面をハイライトする。
- 設定は連続3回タップで開く（1.5秒以内）。

## トップバー
- 現在画面のタイトルを表示する。
- 左側にドロワー開閉ボタンを表示する。
- 右側にバージョン表示と明/暗切替を表示する。

## スナックバー
- 成功: 短時間表示。
- エラー: ユーザーが閉じられる。
